cmake_minimum_required(VERSION 3.0)

# include the fft processors in the build process
# add_subdirectory(fft_processor)

set(SRCS
    autogenerated.cpp
    lwebootstrappingkey.cpp
    lwe.cpp
    lwe-functions.cpp
    lwekey.cpp
    lwekeyswitch.cpp
    lweparams.cpp
    lwesamples.cpp
    multiplication.cpp
    numeric-functions.cpp
    polynomials.cpp
    tgsw.cpp
    tlwe.cpp
    tlwe-functions.cpp
    tgsw-functions.cpp
    tlwe-fft-operations.cpp
    tgsw-fft-operations.cpp
    toruspolynomial-functions.cpp
    boot-gates.cpp
    lwe-keyswitch-functions.cpp
    lwe-bootstrapping-functions.cpp
    lwe-bootstrapping-functions-fft.cpp
    tfhe_io.cpp
    tfhe_generic_streams.cpp
    tfhe_garbage_collector.cpp
    tfhe_gate_bootstrapping.cpp
    tfhe_gate_bootstrapping_structures.cpp
    )

set(FFT_SRCS
    fft_processor/lagrangehalfc_impl.cpp
    fft_processor/fft.cpp
    )

set(FFT_HEADERS
    fft_processor/lagrangehalfc_impl.h
    fft_processor/fft.h
    )

add_library(tfhe-core SHARED ${SRCS} ${FFT_SRCS} ${TFHE_HEADERS} ${FFT_HEADERS})
set_property(TARGET tfhe-core PROPERTY POSITION_INDEPENDENT_CODE ON)
